To Do list for the OMP SOAP Servers
===================================


MSBServer + SpServer
--------------------

 - Treat tauband and seeing as single bits of an integer        [1.0]
   to allow scheduling on "band 1+2"

    [not required since the query is now built up as
      "band 1 or band 2"] Still needs to affect scheduling and
     time decrementing though.

MSBServer
---------

 - Query parsing (OMP::MSBQuery)                                [4.0]

    [done first pass]


 - increment "pending" allocation when MSB marked as done       [1.0]
    [done for simple projects that do not have separate
     allocations for weather bands]

 - Stored procedures for calculating target elevation           [5.0??10??]
    [done [in perl]]


SpServer
--------

 - password authentication                                      [3.0]
    [via OMP::ProjDB]
    [done]

 - "fix" the MSBID generation code so that it caches the value  [1.0]
    before deleting old rows rather than querying the database
    each time an MSB is added to the DB.

      [This has now been optimised so that the ID is cached
       during a store] Store a large science program still takes
       some time. Especially noticable since we have to do that
       to modify a MSB remaining flag.


ProjServer
----------

 [Effectively to write OMP::ProjDB and OMP::ProjServer]

 - implement project summary                        [1.0]
     - as XML
     - as plain text

  [Done]


 - implement queue summary                          [3.0]
    (all projects, projects with time remaining)


 - implement password generation + mailing          [2.0]
     [done]

 - project initialisation in database               [3.0]
     [done]


 - adjustment of time remaining                     [1.0]
     [done]

 - "allocated" vs "fallback" allocations

 - back door password available to all authentication schemes

 - Allocation per weather band (in a system that works for
   both telescopes).

 - Include switch in query to disable checks for:
     - target observability
     - remaining count > 0
     - time remaining on project
   This will allow us to list all the msbs without having
   to retrieve the science program
